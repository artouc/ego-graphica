# 定義
1. 本プロジェクトの名前は「ego Graphica」であり、アーティストの思考パターンやバックグラウンドを加味した回答を行うことで、アーティスト本人がその場にいなくても作品展示時に顧客と会話するエージェントを構築することが目的である。
2. アーティストの代わりに接客をするエージェントのことを「ego Graphicaエージェント」と呼ぶ。
3. スケーラビリティを考慮し複数のアーティストのデータを学習・保存・呼び出しできるデータモデル設計にする必要がある。

# UXフロー

1. アーティスト登録画面
- アーティスト名とアーティストを入力するフォームを用意
- Firebase Storageに`/${アーティストアーティストバケット名}`というフォルダが作成され、Pineconeに`${アーティストバケット名}`というNamespaceが作成され、Firestore Databaseに`${アーティストバケット名}`というコレクションが作成される

2. 情報提供画面
- `.pdf`、`.mp3`、`.m4a`、`.wav`、`jpg`、`.png`をアップロードできるフォームを用意
- PDFデータの場合[Claude Visual PDFs](https://support.claude.com/en/articles/8241126-what-kinds-of-documents-can-i-upload-to-claude)を用いて解析
- 画像データの場合[Claude Vision](https://platform.claude.com/docs/en/build-with-claude/vision)を用いて解析
- 音声データの場合`gpt-4o-transcribe`を用いて解析
- 解析したデータはPineconeの`${アーティストバケット名}`Namespaceに格納
- 元データは元のファイル名を維持したままFirebase Storageの`/${アーティストバケット名}/raw/`内に階層構造を作らず格納

3. URL提供画面
- URLをインプットできるフォームを用意
- 内容をスクレイピングし本文を検出したのち、Firestore Databaseの`${アーティストバケット名}/from-url`コレクションに格納
- スクレイピングに失敗した場合は失敗した旨のエラーをスロー

4. データベース提供画面
- 作品データ（`.png`、`.jpg`、`.wav`、`.mp4`に対応）・タイトル・作成年月日・クライアントワーク or 自主制作・クライアント名・販売状況（売却済、売約済、販売中、非売品）・説明（自由記述）・制作ストーリー（自由記述）をインプットできるフォームを用意
- 内容をFirestore Databaseの`${アーティストバケット名}/works`コレクションに格納

5. エージェント会話画面
- RAG, CAG, Function Calling等を用いたego Graphicaエージェントとの会話ができる画面を用意
- 会話履歴は全てFirestore Databaseの`${アーティストバケット名}/session`コレクションに格納
- 過去のセッションを選択して会話の続きを行えるように

6. ヒアリング画面
- Claude 4.5 Opusと対話できる画面を用意
- アーティストが実際にego Graphicaエージェントと対話した際に発生した違和感等をヒアリングできるように
- 会話履歴は全てFirestore Databaseの`${アーティストバケット名}/hearing`コレクションに格納
- 過去のセッションを選択して会話の続きを行えるように